(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{233:function(e,t,n){},234:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(50),r=n.n(s),i=n(12),l=(n(170),n(282)),o=n(1);function j(){return Object(o.jsx)(l.a,{className:"d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:Object(o.jsx)("a",{className:"btn btn-success btn-lg",href:"https://accounts.spotify.com/authorize?client_id=2736f0fba5bd47febe645ba84dc7fa05&response_type=code&redirect_uri=https://77.78.32.18:4000&scope=streaming%20user-read-email%20user-read-private%20user-library-read%20user-library-modify%20user-read-playback-state%20user-modify-playback-state",children:"Login With Spotify"})})}var d=n(22),u=n(294),b=n(46),h=n.n(b),O=n(61),x=n(297),m=n(283),f="https://77.78.32.18:4000",p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(f,"/").concat(e)},g=function(e){return"".concat(f,"/spotifyapi/").concat(e)},v=function(){var e=Object(O.a)(h.a.mark((function e(t){var n,a,c,s,r,i,l=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:{},a=l.length>2&&void 0!==l[2]?l[2]:"GET",c=y(),s={"Content-Type":"application/json"},c&&(s["x-access-token"]=c),r={method:a,headers:s},"POST"===a&&(r.body=JSON.stringify(n)),e.next=9,window.fetch(t,r).then((function(e){return e.json()}));case 9:return i=e.sent,w(i),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=window.localStorage.getItem("auth");return e?JSON.parse(e).token:""},k=function(){var e=window.localStorage.getItem("auth");return e?JSON.parse(e):{}},S=function(e){window.localStorage.setItem("auth",JSON.stringify(e))},w=function(e){if(e&&(!e.success||e.message)){var t=Object(o.jsx)(m.a,{style:{position:"fixed",top:40,right:25,zIndex:999999999},spacing:2,children:Object(o.jsx)(x.a,{severity:(null===e||void 0===e?void 0:e.success)?"success":"error",children:(null===e||void 0===e?void 0:e.message)||"Unknown Action, probably an error"})});document.dispatchEvent(new CustomEvent("show-message",{detail:{msg:t}}))}};var N=n(140);function C(e){var t=e.accessToken,n=e.trackUri,c=Object(a.useState)(!1),s=Object(i.a)(c,2),r=s[0],l=s[1],j=Object(a.useState)(!1),d=Object(i.a)(j,2),u=d[0],b=d[1];return Object(a.useEffect)((function(){return l(!0)}),[n]),t?Object(o.jsx)(N.a,{token:t,callback:function(e){e.isPlaying||l(!1),"0.00"===e.position.toFixed(2)&&e.isPlaying&&!u&&(b(!0),v(p("chart/user-plays/"),e.track,"POST").finally((function(){b(!1)})))},play:r,uris:n?[n]:[]}):null}var E=n(301),I=n(311),T=n(298),P=n(321),L=n(309),W=n(291),A=n(310),F=n(80),M=n.n(F),U=n(319),D=n(320);function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=Object(a.useState)(!0),r=Object(i.a)(s,2),l=r[0],o=r[1],j=Object(a.useState)(),d=Object(i.a)(j,2),u=d[0],b=d[1],h=Object(a.useState)(),O=Object(i.a)(h,2),x=O[0],m=O[1],f=Object(a.useCallback)((function(){o(!0),b(void 0),m(void 0),v(p(e),t,n).then(m).catch(b).finally((function(){return o(!1)}))}),c);return Object(a.useEffect)((function(){f()}),[f]),{loading:l,error:u,value:x,setValue:m}}var z,G=n(53),J=n(126),Y=n(15),B=Object(Y.css)(z||(z=Object(G.a)(["position: fixed;\ntop: 50%;\nleft: 50%;\ntransform: translate(-50%, -50%);"])));function V(){return Object(o.jsx)(J.RingLoader,{css:B,size:100})}function H(e){var t=e.playlist,n=e.track,c=a.useState(!1),s=Object(i.a)(c,2),r=s[0],l=s[1];return Object(o.jsx)(T.a,{children:Object(o.jsxs)(D.a,{onClick:function(){var e=!r;v(p("playlist/".concat(e?"add":"remove","-song")),{playlistId:t.id,track:n},"POST").then((function(){return l(e)}))},value:"check",selected:r,style:{width:"100%"},children:[Object(o.jsx)(P.a,{children:Object(o.jsx)(E.a,{children:t.name.charAt(0).toUpperCase()})}),Object(o.jsx)(L.a,{primary:t.name})]},t.id)})}function R(e){var t=q("playlist/current-user"),n=t.loading,a=t.error,c=t.value,s=e.onClose,r=e.selectedValue,i=e.open,l=e.track;return n||a?Object(o.jsx)(V,{}):Object(o.jsxs)(A.a,{onClose:function(){s(r)},open:i,children:[Object(o.jsx)(W.a,{children:"Add to playlist"}),Object(o.jsx)(I.a,{sx:{pt:0},children:c.playlists.map((function(e,t){return Object(o.jsx)(H,{playlist:e,track:l},t)}))})]})}function _(e){var t=e.track,n=a.useState(!1),c=Object(i.a)(n,2),s=c[0],r=c[1],l=a.useState({}),j=Object(i.a)(l,2),d=j[0],u=j[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)(R,{selectedValue:d,open:s,onClose:function(e){r(!1),u(e)},track:t}),Object(o.jsx)(U.a,{onClick:function(){r(!0)},children:Object(o.jsx)(M.a,{})})]})}function K(e){var t=e.track,n=e.chooseTrack;return Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"d-flex m-2 align-items-center col-10",style:{cursor:"pointer"},onClick:function(){n&&n(t),document.dispatchEvent(new CustomEvent("play-track",{detail:{song:t}}))},children:[Object(o.jsx)("img",{src:t.albumUrl,style:{height:"64px",width:"64px"},alt:"album"}),Object(o.jsxs)("div",{className:"ml-3",children:[Object(o.jsx)("div",{children:t.title}),Object(o.jsx)("div",{className:"text-muted",children:t.artist})]})]}),Object(o.jsx)("div",{className:"col",children:Object(o.jsx)(_,{track:t})})]})}var Q=n(127),X=n.n(Q),Z=n(5),$=n(305),ee=n(303),te=n(312),ne=n(292),ae=n(313),ce=n(244),se=n(315),re=n(314),ie=n(132),le=n.n(ie),oe=n(133),je=n.n(oe),de=n(131),ue=n.n(de),be=n(130),he=n.n(be),Oe=n(134),xe=n.n(Oe),me=n(135),fe=n.n(me),pe=n(24);function ge(e){var t=e.children,n=k();return Object(o.jsxs)($.a,{sx:{display:"flex"},children:[Object(o.jsx)(ne.a,{}),Object(o.jsx)(te.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(o.jsx)(ae.a,{children:Object(o.jsx)(pe.b,{to:"/",children:Object(o.jsx)(ce.a,{variant:"h6",noWrap:!0,component:"div",children:"DiplomnaMusicApp"})})})}),Object(o.jsxs)(ee.a,{variant:"permanent",sx:Object(Z.a)({width:240,flexShrink:0},"& .MuiDrawer-paper",{width:240,boxSizing:"border-box",height:"calc(100vh - 100px)"}),children:[Object(o.jsx)(ae.a,{}),Object(o.jsx)($.a,{sx:{overflow:"auto"},children:Object(o.jsxs)(I.a,{children:[Object(o.jsxs)(T.a,{children:[Object(o.jsx)(re.a,{children:Object(o.jsx)(he.a,{})}),Object(o.jsx)(L.a,{primary:n.firstName+" "+n.lastName})]}),Object(o.jsx)(se.a,{}),Object(o.jsx)(pe.b,{to:"/",children:Object(o.jsxs)(T.a,{button:!0,children:[Object(o.jsx)(re.a,{children:Object(o.jsx)(ue.a,{})}),Object(o.jsx)(L.a,{primary:"Home"})]})}),Object(o.jsx)(pe.b,{to:"/MyPlaylists",children:Object(o.jsxs)(T.a,{button:!0,children:[Object(o.jsx)(re.a,{children:Object(o.jsx)(le.a,{})}),Object(o.jsx)(L.a,{primary:"My Playlists"})]})}),Object(o.jsx)(pe.b,{to:"/Songs",children:Object(o.jsxs)(T.a,{button:!0,children:[Object(o.jsx)(re.a,{children:Object(o.jsx)(je.a,{})}),Object(o.jsx)(L.a,{primary:"All Songs"})]})}),Object(o.jsx)(pe.b,{to:"/Charts",children:Object(o.jsxs)(T.a,{button:!0,children:[Object(o.jsx)(re.a,{children:Object(o.jsx)(xe.a,{})}),Object(o.jsx)(L.a,{primary:"Charts"})]})}),Object(o.jsx)(se.a,{}),Object(o.jsxs)(T.a,{button:!0,onClick:function(){return document.dispatchEvent(new CustomEvent("logout"))},children:[Object(o.jsx)(re.a,{children:Object(o.jsx)(fe.a,{})}),Object(o.jsx)(L.a,{primary:"Logout"})]})]})})]}),Object(o.jsx)(ae.a,{}),Object(o.jsx)($.a,{style:{height:"calc(100vh - 100px)",paddingTop:100,paddingLeft:0},component:"main",sx:{flexGrow:1,p:3},children:a.Children.map(t,(function(e){return a.cloneElement(e)}))})]})}var ve=n(20),ye=n(317),ke=n(322),Se=n(323),we=n(324),Ne=n(55),Ce=n(136),Ee=n.n(Ce),Ie=n(137),Te=n.n(Ie),Pe=n(138),Le=n.n(Pe);function We(e){var t=e.playlist,n=e.removePlaylist,a=t.name,c=t.id,s=t.created,r=Object(d.f)();return Object(o.jsxs)(ke.a,{sx:{maxWidth:345},onClick:function(){r.push("/playlist/".concat(c))},children:[Object(o.jsx)(Se.a,{avatar:Object(o.jsx)(E.a,{sx:{bgcolor:Ne.a[500]},"aria-label":"playlist",children:a.charAt(0).toUpperCase()}),title:a,subheader:new Date(s).toLocaleDateString()}),Object(o.jsxs)(we.a,{disableSpacing:!0,children:[Object(o.jsx)(U.a,{"aria-label":"add to favorites",children:Object(o.jsx)(Ee.a,{})}),Object(o.jsx)(U.a,{"aria-label":"share",children:Object(o.jsx)(Te.a,{})}),Object(o.jsx)(U.a,{"aria-label":"delete",onClick:function(){v(p("playlist/delete/".concat(c))).then((function(){return n(c)}))},children:Object(o.jsx)(Le.a,{})})]})]})}var Ae=n(306),Fe=n(293),Me=n(316);function Ue(e){var t=e.open,n=e.setOpen,a=e.addPlaylist,c=function(){var e=Object(O.a)(h.a.mark((function e(t){var c,s,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=t.currentTarget,s=c.querySelector("#playlistName").value,e.next=5,v(p("playlist/create?name=".concat(s)));case 5:(r=e.sent).playlist&&a(r.playlist),n(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)(A.a,{open:t,children:[Object(o.jsx)(W.a,{className:"mb-2 d-flex justify-content-center",children:"New Playlist"}),Object(o.jsx)(Me.a,{style:{width:500},children:Object(o.jsxs)("form",{onSubmit:c,children:[Object(o.jsx)("div",{className:"p-2",style:{position:"relative",top:"-15px"},children:Object(o.jsx)(Fe.a,{margin:"normal",required:!0,fullWidth:!0,id:"playlistName",label:"Playlist Name",autoFocus:!0})}),Object(o.jsxs)("div",{className:"mb-2 d-flex justify-content-center",children:[Object(o.jsx)(Ae.a,{type:"button",className:"mr-2",onClick:function(){return n(!1)},variant:"outlined",children:"Cancel"}),Object(o.jsx)(Ae.a,{type:"submit",variant:"contained",children:"Create Playlist"})]})]})})]})}function De(){var e,t=q("playlist/current-user"),n=t.loading,a=t.error,s=t.value,r=t.setValue,l=c.a.useState(!1),j=Object(i.a)(l,2),d=j[0],u=j[1],b=function(e){var t=s.playlists.filter((function(t){return t.id!==e}));r({playlists:t})};return n?Object(o.jsx)(V,{}):!s||a?Object(o.jsx)("h1",{children:"Error"}):Object(o.jsxs)("div",{children:[d&&Object(o.jsx)(Ue,{open:d,setOpen:u,addPlaylist:function(e){r({playlists:[].concat(Object(ve.a)(s.playlists),[e])})}}),Object(o.jsx)("h1",{className:"pb-4",children:"Your playlists"}),(null===(e=s.playlists)||void 0===e?void 0:e.length)?Object(o.jsx)("div",{className:"row",children:s.playlists.map((function(e,t){return Object(o.jsx)("div",{className:"col-12 col-md-6 col-lg-4 mb-4",children:Object(o.jsx)(We,{playlist:e,removePlaylist:b})},t)}))}):Object(o.jsx)("div",{children:"No Playlists"}),Object(o.jsxs)(ye.a,{onClick:function(){u(!0)},color:"primary",variant:"extended",style:{position:"absolute",right:35,bottom:110},"aria-label":"add",children:[Object(o.jsx)(M.a,{}),Object(o.jsx)("span",{className:"pl-1",children:"Create playlist"})]})]})}function qe(e){var t=e.genre,n=Object(d.f)(),a={height:100,backgroundColor:"rgb(".concat(255*Math.random(),",").concat(255*Math.random(),",").concat(255*Math.random(),")"),alignContent:"center",alignItems:"center",justifyContent:"center",marginBottom:20,cursor:"pointer"};return Object(o.jsx)("div",{className:"col-6",onClick:function(){n.push("/Genres/".concat(t))},children:Object(o.jsx)("div",{className:"d-flex",style:a,children:Object(o.jsx)("span",{style:{fontSize:30,color:"white"},children:t})})})}function ze(e){var t=e.genres;return Object(o.jsx)("div",{className:"row",children:t.map((function(e){return Object(o.jsx)(qe,{genre:e},e)}))})}function Ge(){var e=c.a.useState([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return c.a.useEffect((function(){Ze.getAvailableGenreSeeds().then((function(e){a(e.body.genres)}))}),[]),n?Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{className:"pb-4",children:"Genres"}),Object(o.jsx)(ze,{genres:n})]}):Object(o.jsx)(V,{})}function Je(){var e=c.a.useState([]),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(d.g)().genre;return c.a.useEffect((function(){Ze.searchTracks("genre:".concat(s)).then((function(e){a(e.body.tracks.items)}))}),[s]),n.length?Object(o.jsxs)("div",{children:[Object(o.jsxs)("h1",{className:"pb-4",children:["Genre ",s]}),n.map((function(e){var t=e.album.images.reduce((function(e,t){return t.height<e.height?t:e}),e.album.images[0]),n={artist:e.artists[0].name,title:e.name,uri:e.uri,albumUrl:t.url};return Object(o.jsx)(K,{track:n,chooseTrack:function(){return function(e){document.dispatchEvent(new CustomEvent("play-track",{detail:{song:e}}))}(e)}})}))]}):Object(o.jsx)(V,{})}function Ye(){var e=Object(d.g)().id,t=q("playlist/".concat(e)),n=t.loading,a=t.error,c=t.value;return n?Object(o.jsx)(V,{}):a?Object(o.jsx)("div",{children:"Failed to load component."}):Object(o.jsx)("div",{children:c.songs&&c.songs.length?c.songs.map((function(e){return Object(o.jsx)(K,{track:e})})):Object(o.jsx)("h1",{children:"No songs in playlist."})})}var Be=n(56),Ve={height:"55vh",display:"flex",alignContent:"center",alignItems:"center",justifyContent:"center",padding:30,marginBottom:20,cursor:"pointer"},He={transform:"rotate(-45deg)",color:"#fff",fontSize:50};function Re(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"heading",children:Object(o.jsx)("h1",{className:"pb-4",children:"Top 100 Songs"})}),Object(o.jsxs)("div",{className:"row ",children:[Object(o.jsx)(pe.b,{to:"/Charts/weekly",className:"col-3",style:Object(Be.a)(Object(Be.a)({},Ve),{},{backgroundColor:"#b32642"}),children:Object(o.jsx)("span",{style:He,children:"WEEKLY"})}),Object(o.jsx)(pe.b,{to:"/Charts/monthly",className:"col-3 offset-1",style:Object(Be.a)(Object(Be.a)({},Ve),{},{backgroundColor:"#2caea4"}),children:Object(o.jsx)("span",{style:He,children:"MONTHLY"})}),Object(o.jsx)(pe.b,{to:"/Charts/yearly",className:"col-3 offset-1",style:Object(Be.a)(Object(Be.a)({},Ve),{},{backgroundColor:"#84ca99"}),children:Object(o.jsx)("span",{style:He,children:"YEARLY"})})]})]})}function _e(){var e=Object(d.g)().chart,t=q("chart/".concat(e)),n=t.loading,a=t.error,c=t.value;return n?Object(o.jsx)(V,{}):a?Object(o.jsx)("div",{children:"Failed to load component."}):Object(o.jsx)("div",{children:c.songs&&c.songs.length?c.songs.map((function(e){return Object(o.jsx)(K,{track:e})})):Object(o.jsx)("h1",{children:"No songs in playlist."})})}var Ke=n(302),Qe=n(307);function Xe(){var e=k();return Object(o.jsx)("div",{className:"mt-4",children:Object(o.jsxs)(Qe.a,{className:"pt-4",maxWidth:"md",children:[Object(o.jsxs)(ce.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:["Welcome, ",e.firstName," ",e.lastName]}),Object(o.jsx)(ce.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"DiplomnaMusicApp is a music streaming platform using the Spotify API. It provides an interesting set of features including searching for songs, creating playlists, top charts and so much more."}),Object(o.jsx)("div",{className:"pt-3",children:Object(o.jsxs)(Ke.a,{container:!0,spacing:2,justifyContent:"center",children:[Object(o.jsx)(Ke.a,{item:!0,children:Object(o.jsx)(Ae.a,{variant:"contained",color:"primary",onClick:function(){Ze.searchTracks("never gonna give you up").then((function(e){var t=e.body.tracks.items[0];document.dispatchEvent(new CustomEvent("play-track",{detail:{song:t}}))}))},children:"Play me a song"})}),Object(o.jsx)(Ke.a,{item:!0,children:Object(o.jsx)(pe.b,{to:"/Songs",children:Object(o.jsx)(Ae.a,{variant:"outlined",color:"primary",children:"Check music genres"})})})]})})]})})}var Ze=new X.a({clientId:"2736f0fba5bd47febe645ba84dc7fa05"});function $e(e){var t=function(e){var t=Object(a.useState)(),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(),l=Object(i.a)(r,2),o=l[0],j=l[1],d=Object(a.useState)(),u=Object(i.a)(d,2),b=u[0],h=u[1];return Object(a.useEffect)((function(){v(g("login"),{code:e},"POST").then((function(e){s(e.accessToken),j(e.refreshToken),h(e.expiresIn),window.history.pushState({},null,"/")})).catch((function(){window.location="/"}))}),[e]),Object(a.useEffect)((function(){if(o&&b){var e=setInterval((function(){v(g("refresh"),{refreshToken:o},"POST").then((function(e){s(e.accessToken),h(e.expiresIn)})).catch((function(){window.location="/"}))}),1e3*(b-60));return function(){return clearInterval(e)}}}),[o,b]),c}(e.code),n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],r=c[1],l=Object(a.useState)([]),j=Object(i.a)(l,2),b=j[0],h=j[1],O=Object(a.useState)(),x=Object(i.a)(O,2),m=x[0],f=x[1],p=Object(a.useState)(null),y=Object(i.a)(p,2),k=y[0],S=y[1];function w(e){document.dispatchEvent(new CustomEvent("play-track",{detail:{song:e}})),r("")}return document.addEventListener("play-track",(function(e){var t=e.detail.song;f(t)})),document.addEventListener("show-message",(function(e){var t=e.detail.msg;S(t),setTimeout((function(){S(null)}),4e3)})),Object(a.useEffect)((function(){t&&Ze.setAccessToken(t)}),[t]),Object(a.useEffect)((function(){if(!s)return h([]);if(t){var e=!1;return Ze.searchTracks(s).then((function(t){e||h(t.body.tracks.items.map((function(e){var t=e.album.images.reduce((function(e,t){return t.height<e.height?t:e}),e.album.images[0]);return{artist:e.artists[0].name,title:e.name,uri:e.uri,albumUrl:t.url}})))})),function(){return e=!0}}}),[s,t]),Object(o.jsxs)(o.Fragment,{children:[k||null,Object(o.jsx)(ge,{children:Object(o.jsxs)(d.c,{children:[Object(o.jsx)(d.a,{path:"/MyPlaylists",children:Object(o.jsx)(De,{})}),Object(o.jsx)(d.a,{path:"/playlist/:id",children:Object(o.jsx)(Ye,{})}),Object(o.jsx)(d.a,{path:"/Songs",children:Object(o.jsx)(Ge,{})}),Object(o.jsx)(d.a,{path:"/Genres/:genre",children:Object(o.jsx)(Je,{})}),Object(o.jsx)(d.a,{path:"/Charts/:chart",children:Object(o.jsx)(_e,{})}),Object(o.jsx)(d.a,{path:"/Charts",children:Object(o.jsx)(Re,{})}),Object(o.jsxs)(d.a,{path:"/",children:[Object(o.jsx)(u.a.Control,{type:"search",placeholder:"Search Songs/Artists",value:s,onChange:function(e){return r(e.target.value)}}),!s&&Object(o.jsx)(Xe,{}),Object(o.jsx)("div",{className:"flex-grow-1 my-2",children:b.map((function(e){return Object(o.jsx)(K,{track:e,chooseTrack:w},e.uri)}))})]})]})}),Object(o.jsx)("div",{className:"d-flex align-items-center",style:{position:"absolule",bottom:0,height:100,padding:"0 20px"},children:Object(o.jsx)(C,{accessToken:t,trackUri:(null===m||void 0===m?void 0:m.uri)||(null===m||void 0===m?void 0:m.id)})})]})}var et=n(308),tt=n(139),nt=n.n(tt),at=n(141),ct=n(300),st=Object(at.a)(),rt=function(e){var t=e.isSignIn,n=e.setIsSignIn,a=(e.isLogged,e.setIsLogged),c=function(){var e=Object(O.a)(h.a.mark((function e(n){var c,s,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),c=new FormData(n.currentTarget),s={email:c.get("email"),password:c.get("password")},t||(s.firstName=c.get("firstName"),s.lastName=c.get("lastName")),r=p(t?"login":"register"),v(r,s,"POST").then(S).then((function(){a(!0)})).catch((function(){a(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)($.a,{component:"form",onSubmit:c,sx:{mt:1},children:[t?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Fe.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(o.jsx)(Fe.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Fe.a,{margin:"normal",required:!0,fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",autoFocus:!0}),Object(o.jsx)(Fe.a,{margin:"normal",required:!0,fullWidth:!0,name:"lastName",label:"Last Name",type:"lastName",id:"lastName"}),Object(o.jsx)(Fe.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"}),Object(o.jsx)(Fe.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})]}),Object(o.jsx)(Ae.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:t?"Sign In":"Sign Up"}),Object(o.jsx)(Ke.a,{container:!0,children:Object(o.jsx)(Ke.a,{item:!0,children:Object(o.jsx)(et.a,{style:{cursor:"pointer"},onClick:function(){return n(!t)},variant:"body2",children:t?"Don't have an account? Sign Up":"Take me back to Sign In."})})})]})};function it(e){var t=e.isLogged,n=e.setIsLogged,c=a.useState(!0),s=Object(i.a)(c,2),r=s[0],l=s[1];return Object(o.jsx)(ct.a,{theme:st,children:Object(o.jsxs)(Qe.a,{component:"main",maxWidth:"xs",children:[Object(o.jsx)(ne.a,{}),Object(o.jsxs)($.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(o.jsx)(E.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(o.jsx)(nt.a,{})}),Object(o.jsx)(ce.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(o.jsx)(rt,{isSignIn:r,setIsSignIn:l,isLogged:t,setIsLogged:n})]})]})})}var lt=new URLSearchParams(window.location.search).get("code");var ot=function(){var e=a.useState(!0),t=Object(i.a)(e,2),n=t[0],c=function(e){var t=y(),n=Object(a.useState)(!1),c=Object(i.a)(n,2),s=c[0],r=c[1];return Object(a.useEffect)((function(){v(p("session-alive"),{token:t},"POST").then((function(e){r(e.authenticated)})).catch((function(){return r(!1)})).finally((function(){e(!1)}))}),[e,t]),s}(t[1]),s=a.useState(c),r=Object(i.a)(s,2),l=r[0],d=r[1];return document.addEventListener("logout",(function(){window.localStorage.removeItem("auth"),d(!1)})),a.useEffect((function(){c&&d(c)}),[c]),n?Object(o.jsx)(V,{}):l?Object(o.jsx)(pe.a,{children:lt?Object(o.jsx)($e,{code:lt}):Object(o.jsx)(j,{})}):Object(o.jsx)(it,{isLogged:l,setIsLogged:d})};n(233);r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(ot,{})}),document.getElementById("root"))}},[[234,1,2]]]);
//# sourceMappingURL=main.0b8b0bc2.chunk.js.map